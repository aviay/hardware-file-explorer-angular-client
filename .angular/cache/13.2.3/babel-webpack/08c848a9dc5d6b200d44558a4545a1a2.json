{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { NewFolderDialogComponent } from '../dialogs/new-folder-dialog/new-folder-dialog.component';\nimport { RenameDialogComponent } from '../dialogs/rename-dialog/rename-dialog.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/material/toolbar\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/icon\";\nimport * as i5 from \"@angular/material/grid-list\";\nimport * as i6 from \"@angular/material/menu\";\n\nfunction FileExplorerComponent_mat_icon_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-icon\", 3);\n    i0.ɵɵlistener(\"click\", function FileExplorerComponent_mat_icon_1_Template_mat_icon_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.navigateUp();\n    });\n    i0.ɵɵtext(1, \" arrow_back \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FileExplorerComponent_mat_grid_tile_10_mat_icon_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\", 17);\n    i0.ɵɵtext(1, \" folder \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FileExplorerComponent_mat_grid_tile_10_mat_icon_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\", 17);\n    i0.ɵɵtext(1, \" insert_drive_file \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    element: a0\n  };\n};\n\nfunction FileExplorerComponent_mat_grid_tile_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-grid-tile\", 12);\n    i0.ɵɵelement(1, \"span\", 13, 14);\n    i0.ɵɵelementStart(3, \"div\", 15);\n    i0.ɵɵlistener(\"click\", function FileExplorerComponent_mat_grid_tile_10_Template_div_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const element_r8 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.navigate(element_r8);\n    })(\"contextmenu\", function FileExplorerComponent_mat_grid_tile_10_Template_div_contextmenu_3_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n\n      const _r9 = i0.ɵɵreference(2);\n\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.openMenu($event, _r9);\n    });\n    i0.ɵɵtemplate(4, FileExplorerComponent_mat_grid_tile_10_mat_icon_4_Template, 2, 0, \"mat-icon\", 16);\n    i0.ɵɵtemplate(5, FileExplorerComponent_mat_grid_tile_10_mat_icon_5_Template, 2, 0, \"mat-icon\", 16);\n    i0.ɵɵelementStart(6, \"span\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r8 = ctx.$implicit;\n    i0.ɵɵnextContext();\n\n    const _r2 = i0.ɵɵreference(12);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matMenuTriggerFor\", _r2)(\"matMenuTriggerData\", i0.ɵɵpureFunction1(5, _c0, element_r8));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", element_r8.isFolder);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !element_r8.isFolder);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(element_r8.name);\n  }\n}\n\nconst _c1 = function (a0) {\n  return {\n    self: a0\n  };\n};\n\nfunction FileExplorerComponent_ng_template_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 18);\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"open_with\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"Move To\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function FileExplorerComponent_ng_template_13_Template_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const element_r15 = restoredCtx.element;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.openRenameDialog(element_r15);\n    });\n    i0.ɵɵelementStart(6, \"mat-icon\");\n    i0.ɵɵtext(7, \"edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵtext(9, \"Rename\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function FileExplorerComponent_ng_template_13_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const element_r15 = restoredCtx.element;\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.deleteElement(element_r15);\n    });\n    i0.ɵɵelementStart(11, \"mat-icon\");\n    i0.ɵɵtext(12, \"delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\");\n    i0.ɵɵtext(14, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r15 = ctx.element;\n    i0.ɵɵnextContext();\n\n    const _r4 = i0.ɵɵreference(15);\n\n    i0.ɵɵproperty(\"matMenuTriggerFor\", _r4)(\"matMenuTriggerData\", i0.ɵɵpureFunction1(2, _c1, element_r15));\n  }\n}\n\nfunction FileExplorerComponent_ng_template_16_ng_container_0_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function FileExplorerComponent_ng_template_16_ng_container_0_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const element_r21 = i0.ɵɵnextContext().$implicit;\n      const self_r19 = i0.ɵɵnextContext().self;\n      const ctx_r23 = i0.ɵɵnextContext();\n      return ctx_r23.moveElement(self_r19, element_r21);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r21 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r21.name, \" \");\n  }\n}\n\nfunction FileExplorerComponent_ng_template_16_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, FileExplorerComponent_ng_template_16_ng_container_0_button_1_Template, 2, 1, \"button\", 21);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const element_r21 = ctx.$implicit;\n    const self_r19 = i0.ɵɵnextContext().self;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", element_r21.isFolder && element_r21.id !== self_r19.id);\n  }\n}\n\nfunction FileExplorerComponent_ng_template_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, FileExplorerComponent_ng_template_16_ng_container_0_Template, 2, 1, \"ng-container\", 20);\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.fileElements);\n  }\n}\n\nexport let FileExplorerComponent = /*#__PURE__*/(() => {\n  class FileExplorerComponent {\n    constructor(dialog) {\n      this.dialog = dialog;\n      this.fileElements = [];\n      this.canNavigateUp = \"\";\n      this.path = \"\";\n      this.folderAdded = new EventEmitter();\n      this.elementRemoved = new EventEmitter();\n      this.elementRenamed = new EventEmitter();\n      this.elementMoved = new EventEmitter();\n      this.navigatedDown = new EventEmitter();\n      this.navigatedUp = new EventEmitter();\n    }\n\n    ngOnInit() {}\n\n    deleteElement(element) {\n      this.elementRemoved.emit(element);\n    }\n\n    navigate(element) {\n      if (element.isFolder) {\n        this.navigatedDown.emit(element);\n      }\n    }\n\n    navigateUp() {\n      this.navigatedUp.emit();\n    }\n\n    moveElement(element, moveTo) {\n      this.elementMoved.emit({\n        element: element,\n        moveTo: moveTo\n      });\n    }\n\n    openNewFolderDialog() {\n      let dialogRef = this.dialog.open(NewFolderDialogComponent);\n      dialogRef.afterClosed().subscribe(res => {\n        if (res) {\n          this.folderAdded.emit({\n            name: res\n          });\n        }\n      });\n    }\n\n    openRenameDialog(element) {\n      let dialogRef = this.dialog.open(RenameDialogComponent);\n      dialogRef.afterClosed().subscribe(res => {\n        if (res) {\n          element.name = res;\n          this.elementRenamed.emit(element);\n        }\n      });\n    }\n\n    openMenu(event, viewChild) {\n      event.preventDefault();\n      viewChild.openMenu();\n    }\n\n  }\n\n  FileExplorerComponent.ɵfac = function FileExplorerComponent_Factory(t) {\n    return new (t || FileExplorerComponent)(i0.ɵɵdirectiveInject(i1.MatDialog));\n  };\n\n  FileExplorerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FileExplorerComponent,\n    selectors: [[\"file-explorer\"]],\n    inputs: {\n      fileElements: \"fileElements\",\n      canNavigateUp: \"canNavigateUp\",\n      path: \"path\"\n    },\n    outputs: {\n      folderAdded: \"folderAdded\",\n      elementRemoved: \"elementRemoved\",\n      elementRenamed: \"elementRenamed\",\n      elementMoved: \"elementMoved\",\n      navigatedDown: \"navigatedDown\",\n      navigatedUp: \"navigatedUp\"\n    },\n    decls: 17,\n    vars: 4,\n    consts: [[\"class\", \"pointer\", 3, \"click\", 4, \"ngIf\"], [2, \"margin-left\", \"8px\"], [1, \"spacer\"], [1, \"pointer\", 3, \"click\"], [\"fxFlex\", \"\", \"fxLayout\", \"row\", \"fxLayoutAlign\", \"space-between stretch\", 1, \"container\"], [\"fxFlex\", \"\", \"fxLayout\", \"row\", 1, \"content\"], [\"cols\", \"8\", \"rowHeight\", \"100px\", \"fxFlex\", \"\"], [\"class\", \"file-or-folder\", 4, \"ngFor\", \"ngForOf\"], [3, \"overlapTrigger\"], [\"rootMenu\", \"matMenu\"], [\"matMenuContent\", \"\"], [\"moveToMenu\", \"matMenu\"], [1, \"file-or-folder\"], [3, \"matMenuTriggerFor\", \"matMenuTriggerData\"], [\"menuTrigger\", \"matMenuTrigger\"], [\"fxLayout\", \"column\", \"fxLayoutAlign\", \"space-between center\", 3, \"click\", \"contextmenu\"], [\"color\", \"primary\", \"class\", \"file-or-folder-icon pointer\", 4, \"ngIf\"], [\"color\", \"primary\", 1, \"file-or-folder-icon\", \"pointer\"], [\"mat-menu-item\", \"\", 3, \"matMenuTriggerFor\", \"matMenuTriggerData\"], [\"mat-menu-item\", \"\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [\"mat-menu-item\", \"\", 3, \"click\", 4, \"ngIf\"]],\n    template: function FileExplorerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-toolbar\");\n        i0.ɵɵtemplate(1, FileExplorerComponent_mat_icon_1_Template, 2, 0, \"mat-icon\", 0);\n        i0.ɵɵelementStart(2, \"span\", 1);\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"span\", 2);\n        i0.ɵɵelementStart(5, \"mat-icon\", 3);\n        i0.ɵɵlistener(\"click\", function FileExplorerComponent_Template_mat_icon_click_5_listener() {\n          return ctx.openNewFolderDialog();\n        });\n        i0.ɵɵtext(6, \" create_new_folder \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 4);\n        i0.ɵɵelementStart(8, \"div\", 5);\n        i0.ɵɵelementStart(9, \"mat-grid-list\", 6);\n        i0.ɵɵtemplate(10, FileExplorerComponent_mat_grid_tile_10_Template, 8, 7, \"mat-grid-tile\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"mat-menu\", 8, 9);\n        i0.ɵɵtemplate(13, FileExplorerComponent_ng_template_13_Template, 15, 4, \"ng-template\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"mat-menu\", null, 11);\n        i0.ɵɵtemplate(16, FileExplorerComponent_ng_template_16_Template, 1, 1, \"ng-template\", 10);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.canNavigateUp);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.path || \"Files\", \" \");\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.fileElements);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"overlapTrigger\", false);\n      }\n    },\n    directives: [i2.MatToolbar, i3.NgIf, i4.MatIcon, i5.MatGridList, i3.NgForOf, i5.MatGridTile, i6.MatMenuTrigger, i6.MatMenu, i6.MatMenuContent, i6.MatMenuItem],\n    styles: [\"[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.file-or-folder[_ngcontent-%COMP%]{padding:8px;overflow:hidden}.file-or-folder-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:50px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}\"]\n  });\n  return FileExplorerComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}